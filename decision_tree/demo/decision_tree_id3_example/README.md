# ID3å†³ç­–æ ‘ (Decision Tree ID3) ä½¿ç”¨æŒ‡å—

## ğŸ“– ç®€ä»‹

ID3ï¼ˆIterative Dichotomiser 3ï¼‰æ˜¯æœ€æ—©çš„å†³ç­–æ ‘ç®—æ³•ä¹‹ä¸€ï¼Œä½¿ç”¨ä¿¡æ¯å¢ç›Šä½œä¸ºåˆ†è£‚å‡†åˆ™ã€‚**æ³¨æ„ï¼šID3ç®—æ³•åªæ”¯æŒç¦»æ•£ç‰¹å¾ï¼Œè¿ç»­ç‰¹å¾éœ€è¦å…ˆè¿›è¡Œç¦»æ•£åŒ–å¤„ç†ã€‚**

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### è¿è¡Œç¤ºä¾‹
```bash
python main.py
```

## ğŸ“ è¾“å‡ºæ–‡ä»¶å¤¹

è¿è¡Œç¨‹åºåï¼Œæ‰€æœ‰ç”Ÿæˆçš„å›¾ç‰‡å’ŒæŠ¥å‘Šå°†ä¿å­˜åœ¨ï¼š
```
./output/
```

### ç”Ÿæˆçš„æ–‡ä»¶åŒ…æ‹¬ï¼š

#### ğŸ“Š å¯è§†åŒ–å›¾ç‰‡ (2å¼ )
- `01_iris_train.png` - é¸¢å°¾èŠ±è®­ç»ƒé›†ç»“æœï¼ˆç¦»æ•£åŒ–åï¼‰
- `01_iris_test.png` - é¸¢å°¾èŠ±æµ‹è¯•é›†ç»“æœï¼ˆç¦»æ•£åŒ–åï¼‰

#### ğŸ“„ æŠ¥å‘Šæ–‡ä»¶
- `summary_report.txt` - è¯¦ç»†çš„å®éªŒæŠ¥å‘Šå’Œç®—æ³•è¯´æ˜

## ğŸ“Š æ•°æ®é›†è¦æ±‚

1. **ç‰¹å¾çŸ©é˜µ X**: å½¢çŠ¶ä¸º `(n_samples, n_features)` çš„æ•°ç»„
2. **æ ‡ç­¾å‘é‡ y**: æ”¯æŒå¤šåˆ†ç±»
3. **âš ï¸ é‡è¦é™åˆ¶**: **åªæ”¯æŒç¦»æ•£ç‰¹å¾ï¼**
4. **è¿ç»­ç‰¹å¾å¤„ç†**: éœ€è¦å…ˆç¦»æ•£åŒ–å¤„ç†
5. **é—®é¢˜ç±»å‹**: é€‚ç”¨äºå¤šåˆ†ç±»é—®é¢˜

## ğŸ”§ åŸºæœ¬ç”¨æ³•

### ç¦»æ•£ç‰¹å¾æ•°æ®
```python
from decision_tree_id3 import ID3
import numpy as np

# åˆ›å»ºç¦»æ•£ç‰¹å¾æ•°æ®
X = np.array([
    ['sunny', 'hot', 'high', 'false'],
    ['sunny', 'hot', 'high', 'true'],
    ['overcast', 'hot', 'high', 'false'],
    ['rainy', 'mild', 'high', 'false']
])
y = np.array(['no', 'no', 'yes', 'yes'])

# è®­ç»ƒæ¨¡å‹
id3 = ID3()
id3.fit(X, y)

# é¢„æµ‹
predictions = id3.predict(X)
print(predictions)
```

### è¿ç»­ç‰¹å¾ç¦»æ•£åŒ–
```python
from sklearn.preprocessing import KBinsDiscretizer

# è¿ç»­ç‰¹å¾æ•°æ®
X_continuous = np.array([[1.2, 2.3], [2.1, 3.4], [3.5, 1.8], [4.2, 2.9]])

# ç¦»æ•£åŒ–å¤„ç†
discretizer = KBinsDiscretizer(n_bins=3, encode='ordinal', strategy='quantile')
X_discrete = discretizer.fit_transform(X_continuous).astype(int)

# ç°åœ¨å¯ä»¥ä½¿ç”¨ID3
id3 = ID3()
id3.fit(X_discrete, y)
```

## ğŸ¯ æ¨èæ•°æ®é›†

### 1. å¤©ç„¶ç¦»æ•£æ•°æ®é›†
```python
# ç»å…¸å¤©æ°”å†³ç­–æ•°æ®é›†
weather_data = {
    'outlook': ['sunny', 'overcast', 'rainy'],
    'temperature': ['hot', 'mild', 'cool'],
    'humidity': ['high', 'normal'],
    'windy': ['true', 'false'],
    'play': ['yes', 'no']
}
```

### 2. ç¦»æ•£åŒ–åçš„è¿ç»­æ•°æ®
```python
from sklearn.datasets import load_iris
from sklearn.preprocessing import KBinsDiscretizer

# åŠ è½½é¸¢å°¾èŠ±æ•°æ®é›†
data = load_iris()
X, y = data.data, data.target

# ç¦»æ•£åŒ–è¿ç»­ç‰¹å¾
discretizer = KBinsDiscretizer(n_bins=3, encode='ordinal', strategy='quantile')
X_discrete = discretizer.fit_transform(X).astype(int)
```

### 3. å…¶ä»–æ¨èæ•°æ®é›†
- **è˜‘è‡åˆ†ç±»æ•°æ®é›†**: å¤©ç„¶çš„ç¦»æ•£ç‰¹å¾
- **åŠ¨ç‰©åˆ†ç±»æ•°æ®é›†**: å¸ƒå°”å‹ç‰¹å¾
- **æŠ•ç¥¨è®°å½•æ•°æ®é›†**: ç¦»æ•£æŠ•ç¥¨é€‰é¡¹
- **æ±½è½¦è¯„ä¼°æ•°æ®é›†**: ç­‰çº§ç‰¹å¾

## âš™ï¸ ç®—æ³•ç‰¹ç‚¹

- âœ… **ä¿¡æ¯å¢ç›Š**: ä½¿ç”¨ä¿¡æ¯å¢ç›Šé€‰æ‹©æœ€ä½³åˆ†è£‚ç‰¹å¾
- âœ… **å¤šå‰æ ‘**: ç”Ÿæˆå¤šåˆ†æ”¯å†³ç­–æ ‘
- âœ… **ç®€å•å¿«é€Ÿ**: ç®—æ³•å®ç°ç®€å•ï¼Œè®¡ç®—å¿«é€Ÿ
- âœ… **å¤šåˆ†ç±»**: æ”¯æŒå¤šç±»åˆ«åˆ†ç±»é—®é¢˜
- âš ï¸ **ä»…ç¦»æ•£ç‰¹å¾**: åªèƒ½å¤„ç†ç¦»æ•£ç‰¹å¾
- âš ï¸ **æ— å‰ªæ**: æ²¡æœ‰å‰ªæåŠŸèƒ½ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆ
- âš ï¸ **åå‘å¤šå€¼**: åå‘é€‰æ‹©å–å€¼è¾ƒå¤šçš„ç‰¹å¾

## ğŸ” æ•°æ®é¢„å¤„ç†

### è¿ç»­ç‰¹å¾ç¦»æ•£åŒ–æ–¹æ³•

#### 1. ç­‰å®½åˆ†ç®±
```python
from sklearn.preprocessing import KBinsDiscretizer

discretizer = KBinsDiscretizer(n_bins=5, encode='ordinal', strategy='uniform')
X_discrete = discretizer.fit_transform(X)
```

#### 2. ç­‰é¢‘åˆ†ç®±
```python
discretizer = KBinsDiscretizer(n_bins=5, encode='ordinal', strategy='quantile')
X_discrete = discretizer.fit_transform(X)
```

#### 3. è‡ªå®šä¹‰é˜ˆå€¼
```python
import numpy as np

def custom_discretize(x, thresholds):
    """è‡ªå®šä¹‰é˜ˆå€¼ç¦»æ•£åŒ–"""
    return np.digitize(x, thresholds)

# ä½¿ç”¨è‡ªå®šä¹‰é˜ˆå€¼
thresholds = [2.0, 4.0, 6.0]
X_discrete = custom_discretize(X_continuous, thresholds)
```

## ğŸ” è¾“å‡ºè§£é‡Š

è¿è¡Œç¤ºä¾‹åï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºï¼š
- **å‡†ç¡®ç‡**: æ¨¡å‹åœ¨æ•°æ®ä¸Šçš„åˆ†ç±»å‡†ç¡®ç‡
- **æ ‘çš„èŠ‚ç‚¹æ•°**: å†³ç­–æ ‘çš„æ€»èŠ‚ç‚¹æ•°
- **æ ‘çš„æ·±åº¦**: å†³ç­–æ ‘çš„æœ€å¤§æ·±åº¦
- **å†³ç­–æ ‘ç»“æ„**: ä¼šæ‰“å°å‡ºå®Œæ•´çš„å†³ç­–æ ‘

## ğŸ“ˆ æ€§èƒ½åˆ†æ

1. **å¤©ç„¶ç¦»æ•£æ•°æ®**: åœ¨ç¦»æ•£ç‰¹å¾æ•°æ®ä¸Šè¡¨ç°ä¼˜ç§€
2. **ç¦»æ•£åŒ–å½±å“**: ç¦»æ•£åŒ–ç­–ç•¥å¯¹æ€§èƒ½å½±å“å¾ˆå¤§
3. **è¿‡æ‹Ÿåˆå€¾å‘**: å®¹æ˜“åœ¨è®­ç»ƒæ•°æ®ä¸Šè¿‡æ‹Ÿåˆ
4. **åˆ†ç®±æ•°é‡**: åˆé€‚çš„åˆ†ç®±æ•°é‡æ˜¯å…³é”®

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **âš ï¸ åªæ”¯æŒç¦»æ•£ç‰¹å¾**: è¿™æ˜¯æœ€é‡è¦çš„é™åˆ¶
2. **ç¦»æ•£åŒ–ç­–ç•¥**: é€‰æ‹©åˆé€‚çš„ç¦»æ•£åŒ–æ–¹æ³•å¾ˆé‡è¦
3. **åˆ†ç®±æ•°é‡**: å¤ªå°‘ä¼šæŸå¤±ä¿¡æ¯ï¼Œå¤ªå¤šä¼šè¿‡æ‹Ÿåˆ
4. **å­—ç¬¦ä¸²ç‰¹å¾**: ç®—æ³•ç›´æ¥æ”¯æŒå­—ç¬¦ä¸²ç±»å‹ç‰¹å¾
5. **æ— å‰ªæ**: æ²¡æœ‰å‰ªæåŠŸèƒ½ï¼Œéœ€è¦æ³¨æ„è¿‡æ‹Ÿåˆ
6. **æ‰€æœ‰è¾“å‡ºæ–‡ä»¶ä¿å­˜åœ¨ `./output/` æ–‡ä»¶å¤¹ä¸­**

## ğŸ”„ ä¸å…¶ä»–ç®—æ³•å¯¹æ¯”

| ç‰¹æ€§ | ID3 | C4.5 | CART |
|------|-----|------|------|
| åˆ†è£‚å‡†åˆ™ | ä¿¡æ¯å¢ç›Š | ä¿¡æ¯å¢ç›Šæ¯” | åŸºå°¼ç³»æ•°/æ–¹å·® |
| ç‰¹å¾ç±»å‹ | **ä»…ç¦»æ•£** | è¿ç»­+ç¦»æ•£ | è¿ç»­+ç¦»æ•£ |
| æ ‘ç»“æ„ | å¤šå‰ | å¤šå‰ | äºŒå‰ |
| å‰ªæ | **æ— ** | PEPå‰ªæ | CCPå‰ªæ |
| åº”ç”¨ | ç¦»æ•£ç‰¹å¾åˆ†ç±» | é€šç”¨åˆ†ç±» | åˆ†ç±»+å›å½’ |
| ä¼˜åŠ¿ | ç®€å•å¿«é€Ÿ | æ”¹è¿›ID3ç¼ºé™· | åŒæ¨¡å¼æ”¯æŒ |
| ç¼ºé™· | åªèƒ½ç¦»æ•£ç‰¹å¾ | ç›¸å¯¹å¤æ‚ | ä»…äºŒå‰åˆ†è£‚ |

## ğŸ“š ç†è®ºèƒŒæ™¯

### ä¿¡æ¯å¢ç›Š
ID3ä½¿ç”¨ä¿¡æ¯å¢ç›Šä½œä¸ºç‰¹å¾é€‰æ‹©å‡†åˆ™ï¼š

```
Information_Gain(D, A) = Entropy(D) - Î£(|Dv|/|D|) * Entropy(Dv)
```

å…¶ä¸­ï¼š
- `D` æ˜¯æ•°æ®é›†
- `A` æ˜¯ç‰¹å¾
- `Dv` æ˜¯ç‰¹å¾Aå–å€¼ä¸ºvçš„å­é›†

### ä¿¡æ¯ç†µ
```
Entropy(D) = -Î£(pi * log2(pi))
```

å…¶ä¸­piæ˜¯ç±»åˆ«iåœ¨æ•°æ®é›†Dä¸­çš„æ¯”ä¾‹ã€‚

## ğŸ¯ ä½¿ç”¨å»ºè®®

1. **ä¼˜å…ˆè€ƒè™‘å…¶ä»–ç®—æ³•**: é™¤éç‰¹å¾å¤©ç„¶ç¦»æ•£ï¼Œå¦åˆ™å»ºè®®ä½¿ç”¨C4.5æˆ–CART
2. **æ•™å­¦ç”¨é€”**: ID3ç®—æ³•é€‚åˆä½œä¸ºå†³ç­–æ ‘ç®—æ³•çš„å…¥é—¨å­¦ä¹ 
3. **å¿«é€ŸåŸå‹**: å¯¹äºç®€å•çš„ç¦»æ•£ç‰¹å¾åˆ†ç±»é—®é¢˜ï¼ŒID3å¯ä»¥å¿«é€Ÿå»ºæ¨¡
4. **é¢„å¤„ç†é‡è¦**: å¦‚æœå¿…é¡»ä½¿ç”¨ID3å¤„ç†è¿ç»­ç‰¹å¾ï¼Œç¦»æ•£åŒ–é¢„å¤„ç†æ˜¯å…³é”® 